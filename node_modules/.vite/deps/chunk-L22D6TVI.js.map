{
  "version": 3,
  "sources": ["../../vega-util/build/vega-util.module.js", "../../src/formatValue.ts", "../../src/style.ts", "../../src/defaults.ts", "../../src/position.ts", "../../src/Handler.ts", "../../src/index.ts"],
  "sourcesContent": ["function accessor (fn, fields, name) {\n  fn.fields = fields || [];\n  fn.fname = name;\n  return fn;\n}\nfunction accessorName(fn) {\n  return fn == null ? null : fn.fname;\n}\nfunction accessorFields(fn) {\n  return fn == null ? null : fn.fields;\n}\n\nfunction getter (path) {\n  return path.length === 1 ? get1(path[0]) : getN(path);\n}\nconst get1 = field => function (obj) {\n  return obj[field];\n};\nconst getN = path => {\n  const len = path.length;\n  return function (obj) {\n    for (let i = 0; i < len; ++i) {\n      obj = obj[path[i]];\n    }\n    return obj;\n  };\n};\n\nfunction error (message) {\n  throw Error(message);\n}\n\nfunction splitAccessPath (p) {\n  const path = [],\n    n = p.length;\n  let q = null,\n    b = 0,\n    s = '',\n    i,\n    j,\n    c;\n  p = p + '';\n  function push() {\n    path.push(s + p.substring(i, j));\n    s = '';\n    i = j + 1;\n  }\n  for (i = j = 0; j < n; ++j) {\n    c = p[j];\n    if (c === '\\\\') {\n      s += p.substring(i, j++);\n      i = j;\n    } else if (c === q) {\n      push();\n      q = null;\n      b = -1;\n    } else if (q) {\n      continue;\n    } else if (i === b && c === '\"') {\n      i = j + 1;\n      q = c;\n    } else if (i === b && c === \"'\") {\n      i = j + 1;\n      q = c;\n    } else if (c === '.' && !b) {\n      if (j > i) {\n        push();\n      } else {\n        i = j + 1;\n      }\n    } else if (c === '[') {\n      if (j > i) push();\n      b = i = j + 1;\n    } else if (c === ']') {\n      if (!b) error('Access path missing open bracket: ' + p);\n      if (b > 0) push();\n      b = 0;\n      i = j + 1;\n    }\n  }\n  if (b) error('Access path missing closing bracket: ' + p);\n  if (q) error('Access path missing closing quote: ' + p);\n  if (j > i) {\n    j++;\n    push();\n  }\n  return path;\n}\n\nfunction field (field, name, opt) {\n  const path = splitAccessPath(field);\n  field = path.length === 1 ? path[0] : field;\n  return accessor((opt && opt.get || getter)(path), [field], name || field);\n}\n\nconst id = field('id');\nconst identity = accessor(_ => _, [], 'identity');\nconst zero = accessor(() => 0, [], 'zero');\nconst one = accessor(() => 1, [], 'one');\nconst truthy = accessor(() => true, [], 'true');\nconst falsy = accessor(() => false, [], 'false');\n\n/** Utilities common to vega-interpreter and vega-expression for evaluating expresions */\n\n/** JSON authors are not allowed to set these properties, as these are built-in to the JS Object Prototype and should not be overridden. */\nconst DisallowedObjectProperties = new Set(Object.getOwnPropertyNames(Object.prototype));\n\nfunction log$1(method, level, input) {\n  const args = [level].concat([].slice.call(input));\n  console[method].apply(console, args); // eslint-disable-line no-console\n}\nconst None = 0;\nconst Error$1 = 1;\nconst Warn = 2;\nconst Info = 3;\nconst Debug = 4;\nfunction logger (_, method) {\n  let handler = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : log$1;\n  let level = _ || None;\n  return {\n    level(_) {\n      if (arguments.length) {\n        level = +_;\n        return this;\n      } else {\n        return level;\n      }\n    },\n    error() {\n      if (level >= Error$1) handler(method || 'error', 'ERROR', arguments);\n      return this;\n    },\n    warn() {\n      if (level >= Warn) handler(method || 'warn', 'WARN', arguments);\n      return this;\n    },\n    info() {\n      if (level >= Info) handler(method || 'log', 'INFO', arguments);\n      return this;\n    },\n    debug() {\n      if (level >= Debug) handler(method || 'log', 'DEBUG', arguments);\n      return this;\n    }\n  };\n}\n\nvar isArray = Array.isArray;\n\nfunction isObject (_) {\n  return _ === Object(_);\n}\n\nconst isLegalKey = key => key !== '__proto__';\nfunction mergeConfig() {\n  for (var _len = arguments.length, configs = new Array(_len), _key = 0; _key < _len; _key++) {\n    configs[_key] = arguments[_key];\n  }\n  return configs.reduce((out, source) => {\n    for (const key in source) {\n      if (key === 'signals') {\n        // for signals, we merge the signals arrays\n        // source signals take precedence over\n        // existing signals with the same name\n        out.signals = mergeNamed(out.signals, source.signals);\n      } else {\n        // otherwise, merge objects subject to recursion constraints\n        // for legend block, recurse for the layout entry only\n        // for style block, recurse for all properties\n        // otherwise, no recursion: objects overwrite, no merging\n        const r = key === 'legend' ? {\n          layout: 1\n        } : key === 'style' ? true : null;\n        writeConfig(out, key, source[key], r);\n      }\n    }\n    return out;\n  }, {});\n}\nfunction writeConfig(output, key, value, recurse) {\n  if (!isLegalKey(key)) return;\n  let k, o;\n  if (isObject(value) && !isArray(value)) {\n    o = isObject(output[key]) ? output[key] : output[key] = {};\n    for (k in value) {\n      if (recurse && (recurse === true || recurse[k])) {\n        writeConfig(o, k, value[k]);\n      } else if (isLegalKey(k)) {\n        o[k] = value[k];\n      }\n    }\n  } else {\n    output[key] = value;\n  }\n}\nfunction mergeNamed(a, b) {\n  if (a == null) return b;\n  const map = {},\n    out = [];\n  function add(_) {\n    if (!map[_.name]) {\n      map[_.name] = 1;\n      out.push(_);\n    }\n  }\n  b.forEach(add);\n  a.forEach(add);\n  return out;\n}\n\nfunction peek (array) {\n  return array[array.length - 1];\n}\n\nfunction toNumber (_) {\n  return _ == null || _ === '' ? null : +_;\n}\n\nconst exp = sign => x => sign * Math.exp(x);\nconst log = sign => x => Math.log(sign * x);\nconst symlog = c => x => Math.sign(x) * Math.log1p(Math.abs(x / c));\nconst symexp = c => x => Math.sign(x) * Math.expm1(Math.abs(x)) * c;\nconst pow = exponent => x => x < 0 ? -Math.pow(-x, exponent) : Math.pow(x, exponent);\nfunction pan(domain, delta, lift, ground) {\n  const d0 = lift(domain[0]),\n    d1 = lift(peek(domain)),\n    dd = (d1 - d0) * delta;\n  return [ground(d0 - dd), ground(d1 - dd)];\n}\nfunction panLinear(domain, delta) {\n  return pan(domain, delta, toNumber, identity);\n}\nfunction panLog(domain, delta) {\n  var sign = Math.sign(domain[0]);\n  return pan(domain, delta, log(sign), exp(sign));\n}\nfunction panPow(domain, delta, exponent) {\n  return pan(domain, delta, pow(exponent), pow(1 / exponent));\n}\nfunction panSymlog(domain, delta, constant) {\n  return pan(domain, delta, symlog(constant), symexp(constant));\n}\nfunction zoom(domain, anchor, scale, lift, ground) {\n  const d0 = lift(domain[0]),\n    d1 = lift(peek(domain)),\n    da = anchor != null ? lift(anchor) : (d0 + d1) / 2;\n  return [ground(da + (d0 - da) * scale), ground(da + (d1 - da) * scale)];\n}\nfunction zoomLinear(domain, anchor, scale) {\n  return zoom(domain, anchor, scale, toNumber, identity);\n}\nfunction zoomLog(domain, anchor, scale) {\n  const sign = Math.sign(domain[0]);\n  return zoom(domain, anchor, scale, log(sign), exp(sign));\n}\nfunction zoomPow(domain, anchor, scale, exponent) {\n  return zoom(domain, anchor, scale, pow(exponent), pow(1 / exponent));\n}\nfunction zoomSymlog(domain, anchor, scale, constant) {\n  return zoom(domain, anchor, scale, symlog(constant), symexp(constant));\n}\n\nfunction quarter(date) {\n  return 1 + ~~(new Date(date).getMonth() / 3);\n}\nfunction utcquarter(date) {\n  return 1 + ~~(new Date(date).getUTCMonth() / 3);\n}\n\nfunction array (_) {\n  return _ != null ? isArray(_) ? _ : [_] : [];\n}\n\n/**\n * Span-preserving range clamp. If the span of the input range is less\n * than (max - min) and an endpoint exceeds either the min or max value,\n * the range is translated such that the span is preserved and one\n * endpoint touches the boundary of the min/max range.\n * If the span exceeds (max - min), the range [min, max] is returned.\n */\nfunction clampRange (range, min, max) {\n  let lo = range[0],\n    hi = range[1],\n    span;\n  if (hi < lo) {\n    span = hi;\n    hi = lo;\n    lo = span;\n  }\n  span = hi - lo;\n  return span >= max - min ? [min, max] : [lo = Math.min(Math.max(lo, min), max - span), lo + span];\n}\n\nfunction isFunction (_) {\n  return typeof _ === 'function';\n}\n\nconst DESCENDING = 'descending';\nfunction compare (fields, orders, opt) {\n  opt = opt || {};\n  orders = array(orders) || [];\n  const ord = [],\n    get = [],\n    fmap = {},\n    gen = opt.comparator || comparator;\n  array(fields).forEach((f, i) => {\n    if (f == null) return;\n    ord.push(orders[i] === DESCENDING ? -1 : 1);\n    get.push(f = isFunction(f) ? f : field(f, null, opt));\n    (accessorFields(f) || []).forEach(_ => fmap[_] = 1);\n  });\n  return get.length === 0 ? null : accessor(gen(get, ord), Object.keys(fmap));\n}\nconst ascending = (u, v) => (u < v || u == null) && v != null ? -1 : (u > v || v == null) && u != null ? 1 : (v = v instanceof Date ? +v : v, u = u instanceof Date ? +u : u) !== u && v === v ? -1 : v !== v && u === u ? 1 : 0;\nconst comparator = (fields, orders) => fields.length === 1 ? compare1(fields[0], orders[0]) : compareN(fields, orders, fields.length);\nconst compare1 = (field, order) => function (a, b) {\n  return ascending(field(a), field(b)) * order;\n};\nconst compareN = (fields, orders, n) => {\n  orders.push(0); // pad zero for convenient lookup\n  return function (a, b) {\n    let f,\n      c = 0,\n      i = -1;\n    while (c === 0 && ++i < n) {\n      f = fields[i];\n      c = ascending(f(a), f(b));\n    }\n    return c * orders[i];\n  };\n};\n\nfunction constant (_) {\n  return isFunction(_) ? _ : () => _;\n}\n\nfunction debounce (delay, handler) {\n  let tid;\n  return e => {\n    if (tid) clearTimeout(tid);\n    tid = setTimeout(() => (handler(e), tid = null), delay);\n  };\n}\n\nfunction extend (_) {\n  for (let x, k, i = 1, len = arguments.length; i < len; ++i) {\n    x = arguments[i];\n    for (k in x) {\n      _[k] = x[k];\n    }\n  }\n  return _;\n}\n\n/**\n * Return an array with minimum and maximum values, in the\n * form [min, max]. Ignores null, undefined, and NaN values.\n */\nfunction extent (array, f) {\n  let i = 0,\n    n,\n    v,\n    min,\n    max;\n  if (array && (n = array.length)) {\n    if (f == null) {\n      // find first valid value\n      for (v = array[i]; i < n && (v == null || v !== v); v = array[++i]);\n      min = max = v;\n\n      // visit all other values\n      for (; i < n; ++i) {\n        v = array[i];\n        // skip null/undefined; NaN will fail all comparisons\n        if (v != null) {\n          if (v < min) min = v;\n          if (v > max) max = v;\n        }\n      }\n    } else {\n      // find first valid value\n      for (v = f(array[i]); i < n && (v == null || v !== v); v = f(array[++i]));\n      min = max = v;\n\n      // visit all other values\n      for (; i < n; ++i) {\n        v = f(array[i]);\n        // skip null/undefined; NaN will fail all comparisons\n        if (v != null) {\n          if (v < min) min = v;\n          if (v > max) max = v;\n        }\n      }\n    }\n  }\n  return [min, max];\n}\n\nfunction extentIndex (array, f) {\n  const n = array.length;\n  let i = -1,\n    a,\n    b,\n    c,\n    u,\n    v;\n  if (f == null) {\n    while (++i < n) {\n      b = array[i];\n      if (b != null && b >= b) {\n        a = c = b;\n        break;\n      }\n    }\n    if (i === n) return [-1, -1];\n    u = v = i;\n    while (++i < n) {\n      b = array[i];\n      if (b != null) {\n        if (a > b) {\n          a = b;\n          u = i;\n        }\n        if (c < b) {\n          c = b;\n          v = i;\n        }\n      }\n    }\n  } else {\n    while (++i < n) {\n      b = f(array[i], i, array);\n      if (b != null && b >= b) {\n        a = c = b;\n        break;\n      }\n    }\n    if (i === n) return [-1, -1];\n    u = v = i;\n    while (++i < n) {\n      b = f(array[i], i, array);\n      if (b != null) {\n        if (a > b) {\n          a = b;\n          u = i;\n        }\n        if (c < b) {\n          c = b;\n          v = i;\n        }\n      }\n    }\n  }\n  return [u, v];\n}\n\nfunction has (object, property) {\n  return Object.hasOwn(object, property);\n}\n\nconst NULL = {};\nfunction fastmap (input) {\n  let obj = {},\n    test;\n  function has$1(key) {\n    return has(obj, key) && obj[key] !== NULL;\n  }\n  const map = {\n    size: 0,\n    empty: 0,\n    object: obj,\n    has: has$1,\n    get(key) {\n      return has$1(key) ? obj[key] : undefined;\n    },\n    set(key, value) {\n      if (!has$1(key)) {\n        ++map.size;\n        if (obj[key] === NULL) --map.empty;\n      }\n      obj[key] = value;\n      return this;\n    },\n    delete(key) {\n      if (has$1(key)) {\n        --map.size;\n        ++map.empty;\n        obj[key] = NULL;\n      }\n      return this;\n    },\n    clear() {\n      map.size = map.empty = 0;\n      map.object = obj = {};\n    },\n    test(_) {\n      if (arguments.length) {\n        test = _;\n        return map;\n      } else {\n        return test;\n      }\n    },\n    clean() {\n      const next = {};\n      let size = 0;\n      for (const key in obj) {\n        const value = obj[key];\n        if (value !== NULL && (!test || !test(value))) {\n          next[key] = value;\n          ++size;\n        }\n      }\n      map.size = size;\n      map.empty = 0;\n      map.object = obj = next;\n    }\n  };\n  if (input) Object.keys(input).forEach(key => {\n    map.set(key, input[key]);\n  });\n  return map;\n}\n\nfunction flush (range, value, threshold, left, right, center) {\n  if (!threshold && threshold !== 0) return center;\n  const t = +threshold;\n  let a = range[0],\n    b = peek(range),\n    l;\n\n  // swap endpoints if range is reversed\n  if (b < a) {\n    l = a;\n    a = b;\n    b = l;\n  }\n\n  // compare value to endpoints\n  l = Math.abs(value - a);\n  const r = Math.abs(b - value);\n\n  // adjust if value is within threshold distance of endpoint\n  return l < r && l <= t ? left : r <= t ? right : center;\n}\n\nfunction inherits (child, parent, members) {\n  const proto = child.prototype = Object.create(parent.prototype);\n  Object.defineProperty(proto, 'constructor', {\n    value: child,\n    writable: true,\n    enumerable: true,\n    configurable: true\n  });\n  return extend(proto, members);\n}\n\n/**\n * Predicate that returns true if the value lies within the span\n * of the given range. The left and right flags control the use\n * of inclusive (true) or exclusive (false) comparisons.\n */\nfunction inrange (value, range, left, right) {\n  let r0 = range[0],\n    r1 = range[range.length - 1],\n    t;\n  if (r0 > r1) {\n    t = r0;\n    r0 = r1;\n    r1 = t;\n  }\n  left = left === undefined || left;\n  right = right === undefined || right;\n  return (left ? r0 <= value : r0 < value) && (right ? value <= r1 : value < r1);\n}\n\nfunction isBoolean (_) {\n  return typeof _ === 'boolean';\n}\n\nfunction isDate (_) {\n  return Object.prototype.toString.call(_) === '[object Date]';\n}\n\nfunction isIterable (_) {\n  return _ && isFunction(_[Symbol.iterator]);\n}\n\nfunction isNumber (_) {\n  return typeof _ === 'number';\n}\n\nfunction isRegExp (_) {\n  return Object.prototype.toString.call(_) === '[object RegExp]';\n}\n\nfunction isString (_) {\n  return typeof _ === 'string';\n}\n\nfunction key (fields, flat, opt) {\n  if (fields) {\n    fields = flat ? array(fields).map(f => f.replace(/\\\\(.)/g, '$1')) : array(fields);\n  }\n  const len = fields && fields.length,\n    gen = opt && opt.get || getter,\n    map = f => gen(flat ? [f] : splitAccessPath(f));\n  let fn;\n  if (!len) {\n    fn = function () {\n      return '';\n    };\n  } else if (len === 1) {\n    const get = map(fields[0]);\n    fn = function (_) {\n      return '' + get(_);\n    };\n  } else {\n    const get = fields.map(map);\n    fn = function (_) {\n      let s = '' + get[0](_),\n        i = 0;\n      while (++i < len) s += '|' + get[i](_);\n      return s;\n    };\n  }\n  return accessor(fn, fields, 'key');\n}\n\nfunction lerp (array, frac) {\n  const lo = array[0],\n    hi = peek(array),\n    f = +frac;\n  return !f ? lo : f === 1 ? hi : lo + f * (hi - lo);\n}\n\nconst DEFAULT_MAX_SIZE = 10000;\n\n// adapted from https://github.com/dominictarr/hashlru/ (MIT License)\nfunction lruCache (maxsize) {\n  maxsize = +maxsize || DEFAULT_MAX_SIZE;\n  let curr, prev, size;\n  const clear = () => {\n    curr = {};\n    prev = {};\n    size = 0;\n  };\n  const update = (key, value) => {\n    if (++size > maxsize) {\n      prev = curr;\n      curr = {};\n      size = 1;\n    }\n    return curr[key] = value;\n  };\n  clear();\n  return {\n    clear,\n    has: key => has(curr, key) || has(prev, key),\n    get: key => has(curr, key) ? curr[key] : has(prev, key) ? update(key, prev[key]) : undefined,\n    set: (key, value) => has(curr, key) ? curr[key] = value : update(key, value)\n  };\n}\n\nfunction merge (compare, array0, array1, output) {\n  const n0 = array0.length,\n    n1 = array1.length;\n  if (!n1) return array0;\n  if (!n0) return array1;\n  const merged = output || new array0.constructor(n0 + n1);\n  let i0 = 0,\n    i1 = 0,\n    i = 0;\n  for (; i0 < n0 && i1 < n1; ++i) {\n    merged[i] = compare(array0[i0], array1[i1]) > 0 ? array1[i1++] : array0[i0++];\n  }\n  for (; i0 < n0; ++i0, ++i) {\n    merged[i] = array0[i0];\n  }\n  for (; i1 < n1; ++i1, ++i) {\n    merged[i] = array1[i1];\n  }\n  return merged;\n}\n\nfunction repeat (str, reps) {\n  let s = '';\n  while (--reps >= 0) s += str;\n  return s;\n}\n\nfunction pad (str, length, padchar, align) {\n  const c = padchar || ' ',\n    s = str + '',\n    n = length - s.length;\n  return n <= 0 ? s : align === 'left' ? repeat(c, n) + s : align === 'center' ? repeat(c, ~~(n / 2)) + s + repeat(c, Math.ceil(n / 2)) : s + repeat(c, n);\n}\n\n/**\n * Return the numerical span of an array: the difference between\n * the last and first values.\n */\nfunction span (array) {\n  return array && peek(array) - array[0] || 0;\n}\n\nfunction $(x) {\n  return isArray(x) ? '[' + x.map($) + ']' : isObject(x) || isString(x) ?\n  // Output valid JSON and JS source strings.\n  // See http://timelessrepo.com/json-isnt-a-javascript-subset\n  JSON.stringify(x).replace('\\u2028', '\\\\u2028').replace('\\u2029', '\\\\u2029') : x;\n}\n\nfunction toBoolean (_) {\n  return _ == null || _ === '' ? null : !_ || _ === 'false' || _ === '0' ? false : !!_;\n}\n\nconst defaultParser = _ => isNumber(_) ? _ : isDate(_) ? _ : Date.parse(_);\nfunction toDate (_, parser) {\n  parser = parser || defaultParser;\n  return _ == null || _ === '' ? null : parser(_);\n}\n\nfunction toString (_) {\n  return _ == null || _ === '' ? null : _ + '';\n}\n\nfunction toSet (_) {\n  const s = {},\n    n = _.length;\n  for (let i = 0; i < n; ++i) s[_[i]] = true;\n  return s;\n}\n\nfunction truncate (str, length, align, ellipsis) {\n  const e = ellipsis != null ? ellipsis : '\\u2026',\n    s = str + '',\n    n = s.length,\n    l = Math.max(0, length - e.length);\n  return n <= length ? s : align === 'left' ? e + s.slice(n - l) : align === 'center' ? s.slice(0, Math.ceil(l / 2)) + e + s.slice(n - ~~(l / 2)) : s.slice(0, l) + e;\n}\n\nfunction visitArray (array, filter, visitor) {\n  if (array) {\n    if (filter) {\n      const n = array.length;\n      for (let i = 0; i < n; ++i) {\n        const t = filter(array[i]);\n        if (t) visitor(t, i, array);\n      }\n    } else {\n      array.forEach(visitor);\n    }\n  }\n}\n\nexport { Debug, DisallowedObjectProperties, Error$1 as Error, Info, None, Warn, accessor, accessorFields, accessorName, array, ascending, clampRange, compare, constant, debounce, error, extend, extent, extentIndex, falsy, fastmap, field, flush, has as hasOwnProperty, id, identity, inherits, inrange, isArray, isBoolean, isDate, isFunction, isIterable, isNumber, isObject, isRegExp, isString, key, lerp, logger, lruCache, merge, mergeConfig, one, pad, panLinear, panLog, panPow, panSymlog, peek, quarter, repeat, span, splitAccessPath, $ as stringValue, toBoolean, toDate, toNumber, toSet, toString, truncate, truthy, utcquarter, visitArray, writeConfig, zero, zoomLinear, zoomLog, zoomPow, zoomSymlog };\n", "import {isArray, isObject, isString} from 'vega-util';\n\n/**\n * Format the value to be shown in the tooltip.\n *\n * @param value The value to show in the tooltip.\n * @param valueToHtml Function to convert a single cell value to an HTML string\n */\nexport function formatValue(\n  value: any,\n  valueToHtml: (value: any) => string,\n  maxDepth: number,\n  baseURL?: string,\n): string {\n  if (isArray(value)) {\n    return `[${value.map((v) => valueToHtml(isString(v) ? v : stringify(v, maxDepth))).join(', ')}]`;\n  }\n\n  if (isObject(value)) {\n    let content = '';\n\n    const {title, image, ...rest} = value as any;\n\n    if (title) {\n      content += `<h2>${valueToHtml(title)}</h2>`;\n    }\n\n    if (image) {\n      content += `<img src=\"${new URL(valueToHtml(image), baseURL || location.href).href}\">`;\n    }\n\n    const keys = Object.keys(rest);\n    if (keys.length > 0) {\n      content += '<table>';\n      for (const key of keys) {\n        let val = (rest as any)[key];\n\n        // ignore undefined properties\n        if (val === undefined) {\n          continue;\n        }\n\n        if (isObject(val)) {\n          val = stringify(val, maxDepth);\n        }\n\n        content += `<tr><td class=\"key\">${valueToHtml(key)}</td><td class=\"value\">${valueToHtml(val)}</td></tr>`;\n      }\n      content += `</table>`;\n    }\n\n    return content || '{}'; // show empty object if there are no properties\n  }\n\n  return valueToHtml(value);\n}\n\nexport function replacer(maxDepth: number) {\n  const stack: any[] = [];\n\n  return function (this: any, key: string, value: any) {\n    if (typeof value !== 'object' || value === null) {\n      return value;\n    }\n    const pos = stack.indexOf(this) + 1;\n    stack.length = pos;\n    if (stack.length > maxDepth) {\n      return '[Object]';\n    }\n    if (stack.indexOf(value) >= 0) {\n      return '[Circular]';\n    }\n    stack.push(value);\n    return value;\n  };\n}\n\n/**\n * Stringify any JS object to valid JSON\n */\nexport function stringify(obj: any, maxDepth: number) {\n  return JSON.stringify(obj, replacer(maxDepth));\n}\n", "// generated with build-style.sh\nexport default `#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black;\n}\n#vg-tooltip-element.visible {\n  visibility: visible;\n}\n#vg-tooltip-element h2 {\n  margin-top: 0;\n  margin-bottom: 10px;\n  font-size: 13px;\n}\n#vg-tooltip-element table {\n  border-spacing: 0;\n}\n#vg-tooltip-element table tr {\n  border: none;\n}\n#vg-tooltip-element table tr td {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-top: 2px;\n  padding-bottom: 2px;\n}\n#vg-tooltip-element table tr td.key {\n  color: #808080;\n  max-width: 150px;\n  text-align: right;\n  padding-right: 4px;\n}\n#vg-tooltip-element table tr td.value {\n  display: block;\n  max-width: 300px;\n  max-height: 7em;\n  text-align: left;\n}\n#vg-tooltip-element.dark-theme {\n  background-color: rgba(32, 32, 32, 0.9);\n  border: 1px solid #f5f5f5;\n  color: white;\n}\n#vg-tooltip-element.dark-theme td.key {\n  color: #bfbfbf;\n}\n`;\n", "import {formatValue} from './formatValue';\nimport defaultStyle from './style';\n\nconst EL_ID = 'vg-tooltip-element';\n\nexport type Position = 'top' | 'bottom' | 'left' | 'right' | 'top-left' | 'top-right' | 'bottom-left' | 'bottom-right';\n\nexport interface Options {\n  /**\n   * X offset.\n   */\n  offsetX?: number;\n\n  /**\n   * Y offset.\n   */\n  offsetY?: number;\n\n  /**\n   * ID of the tooltip element.\n   */\n  id?: string;\n\n  /**\n   * ID of the tooltip CSS style.\n   */\n  styleId?: string;\n\n  /**\n   * The name of the theme. You can use the CSS class called [THEME]-theme to style the tooltips.\n   *\n   * There are two predefined themes: \"light\" (default) and \"dark\".\n   */\n  theme?: string;\n\n  /**\n   * Do not use the default styles provided by Vega Tooltip. If you enable this option, you need to use your own styles. It is not necessary to disable the default style when using a custom theme.\n   */\n  disableDefaultStyle?: boolean;\n\n  /**\n   * HTML sanitizer function that removes dangerous HTML to prevent XSS.\n   *\n   * This should be a function from string to string. You may replace it with a formatter such as a markdown formatter.\n   */\n  sanitize?: (value: any) => string;\n\n  /**\n   * The maximum recursion depth when printing objects in the tooltip.\n   */\n  maxDepth?: number;\n\n  /**\n   * A function to customize the rendered HTML of the tooltip.\n   * @param value A value string, or object of value strings keyed by field\n   * @param sanitize The `sanitize` function from `options.sanitize`\n   * @param baseURL The `baseURL` from `options.baseURL`\n   * @returns {string} The returned string will become the `innerHTML` of the tooltip element\n   */\n  formatTooltip?: (value: any, valueToHtml: (value: any) => string, maxDepth: number, baseURL: string) => string;\n\n  /**\n   * The baseurl to use in image paths.\n   */\n  baseURL?: string;\n\n  /**\n   * The snap reference for the tooltip.\n   */\n  anchor?: 'cursor' | 'mark';\n\n  /**\n   * The position of the tooltip relative to the anchor.\n   *\n   * Only valid when `anchor` is set to 'mark'.\n   */\n  position?: Position | Position[];\n}\n\nexport const DEFAULT_OPTIONS: Required<Options> = {\n  offsetX: 10,\n  offsetY: 10,\n  id: EL_ID,\n  styleId: 'vega-tooltip-style',\n  theme: 'light',\n  disableDefaultStyle: false,\n  sanitize: escapeHTML,\n  maxDepth: 2,\n  formatTooltip: formatValue,\n  baseURL: '',\n  anchor: 'cursor',\n  position: ['top', 'bottom', 'left', 'right', 'top-left', 'top-right', 'bottom-left', 'bottom-right'],\n};\n\n/**\n * Escape special HTML characters.\n *\n * @param value A value to convert to string and HTML-escape.\n */\nexport function escapeHTML(value: any): string {\n  return String(value).replace(/&/g, '&amp;').replace(/</g, '&lt;');\n}\n\nexport function createDefaultStyle(id: string): string {\n  // Just in case this id comes from a user, ensure these is no security issues\n  if (!/^[A-Za-z]+[-:.\\w]*$/.test(id)) {\n    throw new Error('Invalid HTML ID');\n  }\n\n  return defaultStyle.toString().replace(EL_ID, id);\n}\n", "import {Bounds} from 'vega-typings';\nimport {Options, Position} from './defaults';\n\ntype MarkBounds = Pick<Bounds, 'x1' | 'x2' | 'y1' | 'y2'>;\n\n/**\n * Position the tooltip\n *\n * @param event The mouse event.\n * @param tooltipBox\n * @param options Tooltip handler options.\n */\nexport function calculatePositionRelativeToCursor(\n  event: MouseEvent,\n  tooltipBox: {width: number; height: number},\n  {offsetX, offsetY}: Required<Options>,\n) {\n  // the possible positions for the tooltip\n  const positions = getPositions(\n    {x1: event.clientX, x2: event.clientX, y1: event.clientY, y2: event.clientY},\n    tooltipBox,\n    offsetX,\n    offsetY,\n  );\n\n  // order of positions to try\n  const postionArr: Position[] = ['bottom-right', 'bottom-left', 'top-right', 'top-left'];\n\n  // test positions till a valid one is found\n  for (const p of postionArr) {\n    if (tooltipIsInViewport(positions[p], tooltipBox)) {\n      return positions[p];\n    }\n  }\n\n  // default to top-left if a valid position is not found\n  // this is legacy behavior\n  return positions['top-left'];\n}\n\n/**\n * Calculates the position of the tooltip relative to the mark.\n * @param handler The handler instance.\n * @param event The mouse event.\n * @param item The item that the tooltip is being shown for.\n * @param tooltipBox Client rect of the tooltip element.\n * @param options Tooltip handler options.\n * @returns\n */\nexport function calculatePositionRelativeToMark(\n  handler: any,\n  event: MouseEvent,\n  item: any,\n  tooltipBox: {width: number; height: number},\n  options: Required<Options>,\n) {\n  const {position, offsetX, offsetY} = options;\n  const containerBox = handler._el.getBoundingClientRect();\n  const origin = handler._origin;\n\n  // bounds of the mark relative to the viewport\n  const markBounds = getMarkBounds(containerBox, origin, item);\n\n  // the possible positions for the tooltip\n  const positions = getPositions(markBounds, tooltipBox, offsetX, offsetY);\n\n  // positions to test\n  const positionArr = Array.isArray(position) ? position : [position];\n\n  // test positions till a valid one is found\n  for (const p of positionArr) {\n    // verify that the tooltip is in the view and the mouse is not where the tooltip would be\n    if (tooltipIsInViewport(positions[p], tooltipBox) && !mouseIsOnTooltip(event, positions[p], tooltipBox)) {\n      return positions[p];\n    }\n  }\n\n  // default to cursor position if a valid position is not found\n  return calculatePositionRelativeToCursor(event, tooltipBox, options);\n}\n\n// Calculates the bounds of the mark relative to the viewport.\nexport function getMarkBounds(\n  containerBox: {left: number; top: number},\n  origin: [number, number],\n  item: any,\n): MarkBounds {\n  // if this is a voronoi mark, we want to use the bounds of the point that voronoi cell represents\n  const markBounds = item.isVoronoi ? item.datum.bounds : item.bounds;\n\n  let left = containerBox.left + origin[0] + markBounds.x1;\n  let top = containerBox.top + origin[1] + markBounds.y1;\n\n  // traverse mark groups, summing their offsets to get the total offset\n  // item bounds are relative to their group so if there are multiple nested groups we need to add them all\n  let parentItem = item;\n  while (parentItem.mark.group) {\n    parentItem = parentItem.mark.group;\n    left += parentItem.x ?? 0;\n    top += parentItem.y ?? 0;\n  }\n\n  const markWidth = markBounds.x2 - markBounds.x1;\n  const markHeight = markBounds.y2 - markBounds.y1;\n\n  return {\n    x1: left,\n    x2: left + markWidth,\n    y1: top,\n    y2: top + markHeight,\n  };\n}\n\n// Calculates the tooltip xy for each possible position.\nexport function getPositions(\n  markBounds: MarkBounds,\n  tooltipBox: {width: number; height: number},\n  offsetX: number,\n  offsetY: number,\n) {\n  const xc = (markBounds.x1 + markBounds.x2) / 2;\n  const yc = (markBounds.y1 + markBounds.y2) / 2;\n\n  // x positions\n  const left = markBounds.x1 - tooltipBox.width - offsetX;\n  const center = xc - tooltipBox.width / 2;\n  const right = markBounds.x2 + offsetX;\n\n  // y positions\n  const top = markBounds.y1 - tooltipBox.height - offsetY;\n  const middle = yc - tooltipBox.height / 2;\n  const bottom = markBounds.y2 + offsetY;\n\n  const positions: Record<Position, {x: number; y: number}> = {\n    top: {x: center, y: top},\n    bottom: {x: center, y: bottom},\n    left: {x: left, y: middle},\n    right: {x: right, y: middle},\n    'top-left': {x: left, y: top},\n    'top-right': {x: right, y: top},\n    'bottom-left': {x: left, y: bottom},\n    'bottom-right': {x: right, y: bottom},\n  };\n  return positions;\n}\n\n// Checks if the tooltip would be in the viewport at the given position\nexport function tooltipIsInViewport(position: {x: number; y: number}, tooltipBox: {width: number; height: number}) {\n  return (\n    position.x >= 0 &&\n    position.y >= 0 &&\n    position.x + tooltipBox.width <= window.innerWidth &&\n    position.y + tooltipBox.height <= window.innerHeight\n  );\n}\n\n// Checks if the mouse is within the tooltip area\nexport function mouseIsOnTooltip(\n  event: MouseEvent,\n  position: {x: number; y: number},\n  tooltipBox: {width: number; height: number},\n) {\n  return (\n    event.clientX >= position.x &&\n    event.clientX <= position.x + tooltipBox.width &&\n    event.clientY >= position.y &&\n    event.clientY <= position.y + tooltipBox.height\n  );\n}\n", "import {TooltipHandler} from 'vega-typings';\n\nimport {createDefaultStyle, DEFAULT_OPTIONS, Options} from './defaults';\nimport {calculatePositionRelativeToCursor, calculatePositionRelativeToMark} from './position';\n\n/**\n * The tooltip handler class.\n */\nexport class Handler {\n  /**\n   * The handler function. We bind this to this function in the constructor.\n   */\n  public call: TooltipHandler;\n\n  /**\n   * Complete tooltip options.\n   */\n  private options: Required<Options>;\n\n  /**\n   * The tooltip html element.\n   */\n  private el: HTMLElement | null;\n\n  /**\n   * Create the tooltip handler and initialize the element and style.\n   *\n   * @param options Tooltip Options\n   */\n  constructor(options?: Options) {\n    this.options = {...DEFAULT_OPTIONS, ...options};\n    const elementId = this.options.id;\n    this.el = null;\n\n    // bind this to call\n    this.call = this.tooltipHandler.bind(this);\n\n    // prepend a default stylesheet for tooltips to the head\n    if (!this.options.disableDefaultStyle && !document.getElementById(this.options.styleId)) {\n      const style = document.createElement('style');\n      style.setAttribute('id', this.options.styleId);\n      style.innerHTML = createDefaultStyle(elementId);\n\n      const head = document.head;\n      if (head.childNodes.length > 0) {\n        head.insertBefore(style, head.childNodes[0]);\n      } else {\n        head.appendChild(style);\n      }\n    }\n  }\n\n  /**\n   * The tooltip handler function.\n   */\n  private tooltipHandler(handler: any, event: MouseEvent, item: any, value: any) {\n    // append a div element that we use as a tooltip unless it already exists\n    this.el = document.getElementById(this.options.id);\n    if (!this.el) {\n      this.el = document.createElement('div');\n      this.el.setAttribute('id', this.options.id);\n      this.el.classList.add('vg-tooltip');\n\n      const tooltipContainer = document.fullscreenElement ?? document.body;\n      tooltipContainer.appendChild(this.el);\n    }\n\n    // hide tooltip for null, undefined, or empty string values\n    if (value == null || value === '') {\n      this.el.classList.remove('visible', `${this.options.theme}-theme`);\n      return;\n    }\n\n    // set the tooltip content\n    this.el.innerHTML = this.options.formatTooltip(\n      value,\n      this.options.sanitize,\n      this.options.maxDepth,\n      this.options.baseURL,\n    );\n\n    // make the tooltip visible\n    this.el.classList.add('visible', `${this.options.theme}-theme`);\n\n    const {x, y} =\n      this.options.anchor === 'mark'\n        ? calculatePositionRelativeToMark(handler, event, item, this.el.getBoundingClientRect(), this.options)\n        : calculatePositionRelativeToCursor(event, this.el.getBoundingClientRect(), this.options);\n\n    this.el.style.top = `${y}px`;\n    this.el.style.left = `${x}px`;\n  }\n}\n", "import pkg from '../package.json';\nimport {View} from 'vega-typings';\n\nimport {Options} from './defaults';\nimport {Handler} from './Handler';\n\nconst version = pkg.version;\n\nexport * from './defaults';\nexport * from './formatValue';\nexport * from './position';\nexport * from './Handler';\nexport {version};\n\n/**\n * Create a tooltip handler and register it with the provided view.\n *\n * @param view The Vega view.\n * @param opt Tooltip options.\n */\nexport default function (view: View, opt?: Options) {\n  const handler = new Handler(opt);\n\n  view.tooltip(handler.call).run();\n\n  return handler;\n}\n"],
  "mappings": "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",
  "names": ["name", "field", "_", "key", "array", "constant", "span", "compare", "key", "id"]
}
